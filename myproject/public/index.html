<!doctype html>
<html lang="ru">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
          integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="css/style.css">

    <title>Каталог товаров</title>
</head>
<body>
<div id="app" class="container">
    <div class="content">
        <div class="header">
            <nav class="navbar navbar-expand-md d-flex align-items-end">
                <a class="navbar-brand" href="#">
                    <span class="d-md-none logo-text">AVALON</span>
                    <img class="d-none d-md-block" src="/img/logo_small.jpg" alt="">
                </a>
                <button class="navbar-light navbar-toggler" type="button" data-toggle="collapse"
                        data-target="#navbarsExampleDefault"
                        aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <div class="collapse navbar-collapse justify-content-end" id="navbarsExampleDefault">
                    <ul class="navbar-nav">
                        <li class="nav-item"><a class="nav-link" href="/"
                                                title="Главная страница">Главная</a>
                        </li>
                        <li class="nav-item"><a class="nav-link" href="/?page=catalog"
                                                title="Переход в каталог товаров">Каталог товаров</a></li>
                        <li class="nav-item"><a class="nav-link" href="/?page=feedback"
                                                title="Отзывы о сайте">Отзывы</a>
                        </li>
                        <li class="nav-item"><a class="nav-link" href="/?page=contacts"
                                                title="Контактные реквизиты">Контакты</a>
                        </li>
                    </ul>
                </div>
            </nav>
            <cart-component ref="cart"></cart-component>
        </div>
        <alert-box :message="errorText" @on-clear-error="errorText = ''"></alert-box>

        <h1>Каталог</h1>
        <div class="tovar_list clearfix d-md-flex">
            <p class=".goods-list" v-if="products.length === 0">Список товаров пуст!</p>
            <div class="card" v-for="product of filteredProducts" :key="product.id_product">
                <img class="card-img-top mt-3 mb-sm-3" :src="product.img_product" width="128" height="128">
                <div class="card-body">
                    <h5 class="card-title">{{product.product_name}}</h5>
                    <p>Цена: {{product.price}}</p>
                    <button class="buy-btn" @click="$refs.cart.addProduct(product)">Купить</button>
                </div>
            </div>
        </div>

        <div id="pull"></div>
    </div>
    <div class="footer">
        <p>Все права защищены &copy; 2021</p>
    </div>
</div>

<div id="loading-layer" class="overlay">
    <div id="loading-layer-text">Загрузка. Пожалуйста, подождите...
        <br>
        <img src="img/loading.gif" border="0" alt="loading...">
    </div>
</div>
<div id="message-layer" class="overlay">
    <div id="message-layer-text" class="errorbox">stub</div>
</div>

<!-- Optional JavaScript -->
<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script defer src="https://use.fontawesome.com/releases/v5.7.2/js/all.js"
        integrity="sha384-0pzryjIRos8mFBWMzSSZApWtPl/5++eIfzYmTgBBmXYdhvxPc+XcFEk+zJwDgWbP"
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script src="js/alert-box.js"></script>
<script src="js/search-form.js"></script>
<script src="js/cart-item-component.js"></script>
<script src="js/cart-component.js"></script>
<script src="js/main.js"></script>
</body>
</html>
